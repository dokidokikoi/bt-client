
### 解析消息
消息具有长度、ID和有效负载。在传输时，它看起来像：

![](https://blog.jse.li/torrent/message.png)

消息以长度指示符开头，它告诉我们消息的长度是多少字节。它是一个 32 位整数，这意味着它由四个字节以大端顺序拼凑而成。下一个字节是ID，它告诉我们正在接收哪种类型的消息——例如，一个2字节表示“感兴趣”。最后，可选的有效负载填充消息的剩余长度。